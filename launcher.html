<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè¢ Bor√ßlu Sorgulama Sistemi - Launcher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
        }
        
        .logo {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 40px;
            font-size: 14px;
        }
        
        .button {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin: 15px 0;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .local-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }
        
        .internet-btn {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        
        .clean-btn {
            background: linear-gradient(45deg, #f44336, #d32f2f);
        }
        
        .stop-btn {
            background: linear-gradient(45deg, #9E9E9E, #757575);
        }
        
        .status {
            margin-top: 30px;
            padding: 15px;
            border-radius: 10px;
            background: #f5f5f5;
            color: #333;
            font-size: 14px;
        }
        
        .url-box {
            margin-top: 15px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            word-break: break-all;
            color: #1976d2;
        }
        
        .footer {
            margin-top: 30px;
            font-size: 12px;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">üè¢</div>
        <div class="title">BOR√áLU SORGULAMA Sƒ∞STEMƒ∞</div>
        <div class="subtitle">Modern ve g√ºvenli bor√ßlu takip sistemi</div>
        
        <button class="button local-btn" onclick="startLocal()">
            üè† YEREL BA≈ûLAT (WiFi Aƒüƒ±)
        </button>
        
        <button class="button internet-btn" onclick="startInternet()">
            üåç ƒ∞NTERNET BA≈ûLAT (Ngrok)
        </button>
        
        <button class="button clean-btn" onclick="cleanDatabase()">
            üóëÔ∏è VERƒ∞TABANI TEMƒ∞ZLE
        </button>
        
        <button class="button stop-btn" onclick="stopSystem()">
            ‚èπÔ∏è Sƒ∞STEMƒ∞ DURDUR
        </button>
        
        <div class="status" id="status">
            Sistem hazƒ±r - Bir i≈ülem se√ßin
        </div>
        
        <div class="url-box" id="urlBox" style="display: none;">
            URL burada g√∂r√ºnecek...
        </div>
        
        <div class="footer">
            Docker + Next.js + Ngrok ile g√º√ßlendirilmi≈ütir
        </div>
    </div>

    <script>
        function updateStatus(message, color = '#333') {
            const status = document.getElementById('status');
            status.textContent = message;
            status.style.color = color;
        }
        
        function showUrl(url) {
            const urlBox = document.getElementById('urlBox');
            urlBox.textContent = url;
            urlBox.style.display = 'block';
        }
        
        function hideUrl() {
            document.getElementById('urlBox').style.display = 'none';
        }
        
        function runCommand(command) {
            // Windows'ta .bat dosyasƒ±nƒ± √ßalƒ±≈ütƒ±r
            const projectPath = getProjectPath();
            const fullCommand = `cd /d "${projectPath}" && ${command}`;
            
            // Yeni CMD penceresi a√ß
            window.open(`cmd://c/${fullCommand}`, '_blank');
        }
        
        function getProjectPath() {
            // HTML dosyasƒ±nƒ±n bulunduƒüu dizin = proje dizini
            return window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/'));
        }
        
        function startLocal() {
            updateStatus('üöÄ Yerel sistem ba≈ülatƒ±lƒ±yor...', '#ff9800');
            hideUrl();
            
            // Proje dizinini otomatik tespit et (HTML dosyasƒ±nƒ±n bulunduƒüu dizin)
            const currentPath = window.location.pathname;
            const projectPath = currentPath.substring(1, currentPath.lastIndexOf('/')).replace(/\//g, '\\');
            
            // BASIT-LAUNCHER.bat'i se√ßenek 1 ile √ßalƒ±≈ütƒ±r
            const batCommand = `cmd /c "cd /d "${projectPath}" && echo 1 | BASIT-LAUNCHER.bat"`;
            
            try {
                // Windows'ta ActiveX kullanarak komut √ßalƒ±≈ütƒ±r
                const shell = new ActiveXObject("WScript.Shell");
                shell.Run(batCommand, 1, false);
                
                setTimeout(() => {
                    updateStatus('‚úÖ Yerel sistem √ßalƒ±≈üƒ±yor!', '#4caf50');
                    showUrl('üè† http://localhost:3000 | üì∂ http://192.168.0.17:3000');
                    
                    // Tarayƒ±cƒ±da localhost'u a√ß
                    setTimeout(() => {
                        window.open('http://localhost:3000', '_blank');
                    }, 2000);
                }, 3000);
            } catch (e) {
                // ActiveX √ßalƒ±≈ümazsa alternatif y√∂ntem
                updateStatus('‚ö†Ô∏è Otomatik ba≈ülatma desteklenmiyor. Manuel ba≈ülatma...', '#ff9800');
                
                // Kullanƒ±cƒ±ya talimat ver
                const instructions = `
L√ºtfen ≈üu adƒ±mlarƒ± takip edin:
1. Dosya Gezgini'ni a√ßƒ±n
2. Bu klas√∂re gidin: ${projectPath}
3. BASIT-LAUNCHER.bat dosyasƒ±na √ßift tƒ±klayƒ±n
4. A√ßƒ±lan men√ºde "1" tu≈üuna basƒ±n
                `;
                
                if (confirm('Otomatik ba≈ülatma √ßalƒ±≈ümadƒ±.\\n\\nManuel ba≈ülatma talimatlarƒ±nƒ± g√∂rmek ister misiniz?')) {
                    alert(instructions);
                }
                
                updateStatus('üìã Manuel ba≈ülatma talimatlarƒ± g√∂sterildi', '#2196f3');
            }
        }
        
        function startInternet() {
            updateStatus('üåç Internet eri≈üimi ba≈ülatƒ±lƒ±yor...', '#ff9800');
            hideUrl();
            
            // Proje dizinini otomatik tespit et
            const currentPath = window.location.pathname;
            const projectPath = currentPath.substring(1, currentPath.lastIndexOf('/')).replace(/\//g, '\\');
            
            // BASIT-LAUNCHER.bat'i se√ßenek 2 ile √ßalƒ±≈ütƒ±r
            const batCommand = `cmd /c "cd /d "${projectPath}" && echo 2 | BASIT-LAUNCHER.bat"`;
            
            try {
                const shell = new ActiveXObject("WScript.Shell");
                shell.Run(batCommand, 1, false);
                
                setTimeout(() => {
                    updateStatus('‚úÖ Internet eri≈üimi aktif! Ngrok penceresindeki URL\'i kopyalayƒ±n', '#4caf50');
                    showUrl('üåç Ngrok penceresindeki https://xxxxx.ngrok.io URL\'ini kopyalayƒ±n ve payla≈üƒ±n');
                }, 5000);
            } catch (e) {
                updateStatus('‚ö†Ô∏è Otomatik ba≈ülatma desteklenmiyor. Manuel ba≈ülatma...', '#ff9800');
                
                const instructions = `
L√ºtfen ≈üu adƒ±mlarƒ± takip edin:
1. Dosya Gezgini'ni a√ßƒ±n
2. Bu klas√∂re gidin: ${projectPath}
3. BASIT-LAUNCHER.bat dosyasƒ±na √ßift tƒ±klayƒ±n
4. A√ßƒ±lan men√ºde "2" tu≈üuna basƒ±n
5. Ngrok penceresindeki URL'i kopyalayƒ±n
                `;
                
                if (confirm('Otomatik ba≈ülatma √ßalƒ±≈ümadƒ±.\\n\\nManuel ba≈ülatma talimatlarƒ±nƒ± g√∂rmek ister misiniz?')) {
                    alert(instructions);
                }
                
                updateStatus('üìã Manuel ba≈ülatma talimatlarƒ± g√∂sterildi', '#2196f3');
            }
        }
        
        function cleanDatabase() {
            if (confirm('T√úM veritabanƒ± verileri silinecek!\\nBu i≈ülem geri alƒ±namaz.\\n\\nDevam etmek istiyor musunuz?')) {
                updateStatus('üóëÔ∏è Veritabanƒ± temizleniyor...', '#ff9800');
                hideUrl();
                
                const projectPath = 'C:\\Users\\Obuzhukuk\\Desktop\\BORCLUSORGU\\borclu-sorgulama';
                const psCommand = `powershell -Command "Set-Location '${projectPath}'; Start-Process cmd -ArgumentList '/k', 'docker-compose down && docker volume rm borclu-sorgulama_borclu-db-data 2>nul && docker-compose up -d && echo Veritabani temizlendi! && pause'"`;
                
                try {
                    const shell = new ActiveXObject("WScript.Shell");
                    shell.Run(psCommand, 1, false);
                    
                    setTimeout(() => {
                        updateStatus('‚úÖ Veritabanƒ± temizlendi ve sistem yeniden ba≈ülatƒ±ldƒ±!', '#4caf50');
                    }, 8000);
                } catch (e) {
                    updateStatus('‚ùå Temizlenemedi! Manuel olarak VERITABANI-TEMIZLE.bat √ßalƒ±≈ütƒ±rƒ±n', '#f44336');
                }
            }
        }
        
        function stopSystem() {
            updateStatus('‚èπÔ∏è Sistem durduruluyor...', '#ff9800');
            hideUrl();
            
            // Proje dizinini otomatik tespit et
            const currentPath = window.location.pathname;
            const projectPath = currentPath.substring(1, currentPath.lastIndexOf('/')).replace(/\//g, '\\');
            
            // BASIT-LAUNCHER.bat'i se√ßenek 3 ile √ßalƒ±≈ütƒ±r
            const batCommand = `cmd /c "cd /d "${projectPath}" && echo 3 | BASIT-LAUNCHER.bat"`;
            
            try {
                const shell = new ActiveXObject("WScript.Shell");
                shell.Run(batCommand, 1, false);
                
                setTimeout(() => {
                    updateStatus('‚èπÔ∏è Sistem durduruldu', '#757575');
                }, 3000);
            } catch (e) {
                updateStatus('‚ö†Ô∏è Otomatik durdurma desteklenmiyor. Manuel durdurma...', '#ff9800');
                
                const instructions = `
L√ºtfen ≈üu adƒ±mlarƒ± takip edin:
1. Dosya Gezgini'ni a√ßƒ±n
2. Bu klas√∂re gidin: ${projectPath}
3. BASIT-LAUNCHER.bat dosyasƒ±na √ßift tƒ±klayƒ±n
4. A√ßƒ±lan men√ºde "3" tu≈üuna basƒ±n
                `;
                
                if (confirm('Otomatik durdurma √ßalƒ±≈ümadƒ±.\\n\\nManuel durdurma talimatlarƒ±nƒ± g√∂rmek ister misiniz?')) {
                    alert(instructions);
                }
                
                updateStatus('üìã Manuel durdurma talimatlarƒ± g√∂sterildi', '#2196f3');
            }
        }
        
        // Sayfa y√ºklendiƒüinde
        window.onload = function() {
            updateStatus('Sistem hazƒ±r - Bir i≈ülem se√ßin', '#4caf50');
        }
    </script>
</body>
</html>